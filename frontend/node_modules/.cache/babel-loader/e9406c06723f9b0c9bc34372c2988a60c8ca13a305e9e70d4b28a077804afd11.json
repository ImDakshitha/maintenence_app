{"ast":null,"code":"import _objectSpread from\"D:/MSc/Semester 2/CSC 505/CSC 527 505 ASSIGNMENT/maintenance_app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'../utils/axios.js';import Logo from'../components/Logo';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function HomePage(){const[credentials,setCredentials]=useState({universityId:'',password:''});const[error,setError]=useState('');const navigate=useNavigate();const handleChange=e=>{setCredentials(_objectSpread(_objectSpread({},credentials),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();console.log(\"Submitting credentials: \",credentials);try{const response=await axios.post('/auth/login',credentials);console.log(\"Response Data: \",response.data);localStorage.setItem('token',response.data.token);console.log(\"SUCESS\");navigate('/dashboard');}catch(err){console.error(\"Error: \",err);setError(err.response?err.response.data:'An error occurred');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"homepage\",children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome to the Maintenance System\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"universityId\",value:credentials.universityId,onChange:handleChange,placeholder:\"Enter University ID\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:credentials.password,onChange:handleChange,placeholder:\"Enter Password\",required:true}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"register-link\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"Register here\"})]})]})]});}export default HomePage;","map":{"version":3,"names":["React","useState","useNavigate","axios","Logo","jsx","_jsx","jsxs","_jsxs","HomePage","credentials","setCredentials","universityId","password","error","setError","navigate","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","console","log","response","post","data","localStorage","setItem","token","err","className","children","onSubmit","type","onChange","placeholder","required","href"],"sources":["D:/MSc/Semester 2/CSC 505/CSC 527 505 ASSIGNMENT/maintenance_app/frontend/src/pages/HomePage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from '../utils/axios.js';\r\nimport Logo from '../components/Logo';\r\n\r\nfunction HomePage() {\r\n  const [credentials, setCredentials] = useState({ universityId: '', password: '' });\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setCredentials({ ...credentials, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(\"Submitting credentials: \", credentials);\r\n    try {\r\n      const response = await axios.post('/auth/login', credentials);\r\n      console.log(\"Response Data: \", response.data);\r\n      localStorage.setItem('token', response.data.token);\r\n      console.log(\"SUCESS\");\r\n      navigate('/dashboard');\r\n    } catch (err) {\r\n      console.error(\"Error: \", err);\r\n      setError(err.response ? err.response.data : 'An error occurred');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"homepage\">\r\n      <Logo />\r\n      <div className=\"login-container\">\r\n        <h2>Welcome to the Maintenance System</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"universityId\"\r\n            value={credentials.universityId}\r\n            onChange={handleChange}\r\n            placeholder=\"Enter University ID\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={credentials.password}\r\n            onChange={handleChange}\r\n            placeholder=\"Enter Password\"\r\n            required\r\n          />\r\n          {error && <div className=\"error-message\">{error}</div>}\r\n          <button type=\"submit\">Login</button>\r\n        </form>\r\n        <p className=\"register-link\">\r\n          Don't have an account? <a href=\"/register\">Register here</a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"],"mappings":"8JAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,mBAAmB,CACrC,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAAC,CAAEW,YAAY,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAClF,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAe,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAe,YAAY,CAAIC,CAAC,EAAK,CAC1BP,cAAc,CAAAQ,aAAA,CAAAA,aAAA,IAAMT,WAAW,MAAE,CAACQ,CAAC,CAACE,MAAM,CAACC,IAAI,EAAGH,CAAC,CAACE,MAAM,CAACE,KAAK,EAAE,CAAC,CACrE,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAChCA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClBC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAEhB,WAAW,CAAC,CACpD,GAAI,CACF,KAAM,CAAAiB,QAAQ,CAAG,KAAM,CAAAxB,KAAK,CAACyB,IAAI,CAAC,aAAa,CAAElB,WAAW,CAAC,CAC7De,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEC,QAAQ,CAACE,IAAI,CAAC,CAC7CC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEJ,QAAQ,CAACE,IAAI,CAACG,KAAK,CAAC,CAClDP,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CACrBV,QAAQ,CAAC,YAAY,CAAC,CACxB,CAAE,MAAOiB,GAAG,CAAE,CACZR,OAAO,CAACX,KAAK,CAAC,SAAS,CAAEmB,GAAG,CAAC,CAC7BlB,QAAQ,CAACkB,GAAG,CAACN,QAAQ,CAAGM,GAAG,CAACN,QAAQ,CAACE,IAAI,CAAG,mBAAmB,CAAC,CAClE,CACF,CAAC,CAED,mBACErB,KAAA,QAAK0B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB7B,IAAA,CAACF,IAAI,GAAE,CAAC,cACRI,KAAA,QAAK0B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B7B,IAAA,OAAA6B,QAAA,CAAI,mCAAiC,CAAI,CAAC,cAC1C3B,KAAA,SAAM4B,QAAQ,CAAEb,YAAa,CAAAY,QAAA,eAC3B7B,IAAA,UACE+B,IAAI,CAAC,MAAM,CACXhB,IAAI,CAAC,cAAc,CACnBC,KAAK,CAAEZ,WAAW,CAACE,YAAa,CAChC0B,QAAQ,CAAErB,YAAa,CACvBsB,WAAW,CAAC,qBAAqB,CACjCC,QAAQ,MACT,CAAC,cACFlC,IAAA,UACE+B,IAAI,CAAC,UAAU,CACfhB,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEZ,WAAW,CAACG,QAAS,CAC5ByB,QAAQ,CAAErB,YAAa,CACvBsB,WAAW,CAAC,gBAAgB,CAC5BC,QAAQ,MACT,CAAC,CACD1B,KAAK,eAAIR,IAAA,QAAK4B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAErB,KAAK,CAAM,CAAC,cACtDR,IAAA,WAAQ+B,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,OAAK,CAAQ,CAAC,EAChC,CAAC,cACP3B,KAAA,MAAG0B,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,yBACJ,cAAA7B,IAAA,MAAGmC,IAAI,CAAC,WAAW,CAAAN,QAAA,CAAC,eAAa,CAAG,CAAC,EAC3D,CAAC,EACD,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA1B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}